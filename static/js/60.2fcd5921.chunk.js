"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[60],{42:function(e,t,n){n.r(t),n.d(t,{default:function(){return W}});var r=n(9439),a=n(2791),s=n(1413),o=n(3433),l=n(5861),c=n(4687),u=n.n(c),i=n.p+"static/media/picture.86562350dcaa714a1442.png",f="Card_item__C00cL",d="Card_logo__etg-V",p="Card_picture__rtX1V",w="Card_avatar__UWcIt",m="Card_tweets__MD4FS",v="Card_followers__oYm9T",h=n(184),A=function(e){var t=e.user,n=e.follow,r=e.unfollow,a=e.followedUsers;return(0,h.jsxs)("li",{className:f,children:[(0,h.jsx)("img",{className:d,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAAAWCAYAAABqgnq6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJ2SURBVHgB7VixSgNBEJ0TI8QihQqm0MLGQgstbCxsrP1mQRsbwTQGkkKLBDRFBFMkYA7ivNxsmCx32U1MzAg+GG7vbm5v993Mm+GS0Wh0Q+vHgO0uSZK0yIHXecaHQ1ozNsgGymzn9AdghTCgylF0TMZhiTDgmEnbJ8OwRhhwzqRtk1FYJKzEdsmkbZJBxC5qyPbK1qWsopXFULV2c/x7bC3xT5XvAcXBFYFHWgzvbHUZH4kBD5Stf9Z7L2fcjyKsjxdxyR9414C2CLUW6yb7NnPm6LJvQxYUk3LjIpAzVwxSfm68Rp5jqK4P3PU8sO+IAgil5BRZPF+JreJpTEWN23qD4j/xlXnwlYcUBxSBZfZeWPuu2CRY3DXKz5YphCLsQ5GFjV9RpjE4f6Es3arKv6EWgTQ4lfGYKHxdzMfnSO/YFuKE/bu0HFyo8S1bynMH01AjFGEtNUanDbIQQTXKdKovY0TMp0fuqXq2LM87zEPAuAjIce0IRZjWrbIcu0zM1IZFx9IcXw2dxoU6UgBoiwnCQhGmN+7I20YEQZ88X61liD5fpzRJ8/RZmOeB5id5JQgRpkUQqYdFI7Wu2XY835IIJ8Qdm6yrey51HWLbC+DZq9BrRSglj5iEthNrPr8Vffoq+LOA1EQ0gLQW+77xcEuXcnm+SnFAi9ImQwhFmOu6dWvQ12SJfrn7KM9nrmTDL4esWAHvLNiDrRQxjSt07Jo3i4qJDjqV55B+6JH8zePanrQdPfWeIv88gOQnWhz4cO53UaXAB+1KSnMWk8TID0QN6N+9r1v/PxCLUbMk8j6sEQaR75BhWCLMpMj7sELYT0X+1/ANbvUOPPqsLv4AAAAASUVORK5CYII=",alt:"avatar",loading:"lazy"}),(0,h.jsx)("img",{className:p,src:i,alt:"avatar",loading:"lazy"}),(0,h.jsx)("img",{className:w,src:t.avatar,alt:t.name,width:"62",height:"62",loading:"lazy"}),(0,h.jsxs)("p",{className:m,children:[t.tweets,"\xa0Tweets"]}),(0,h.jsxs)("p",{className:v,children:[new Intl.NumberFormat("en-US").format(t.followers),"\xa0Followers"]}),a.includes(t.id)?(0,h.jsx)("button",{type:"button",className:"active",onClick:function(){return r(t)},user:t,children:"following"}):(0,h.jsx)("button",{type:"button",className:"passive",onClick:function(){return n(t)},user:t,children:"follow"})]})},x="CardList_list__I9984",g="CardList_button__o1STO",b=n(1243);function Z(){return _.apply(this,arguments)}function _(){return(_=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.Z)("users");case 2:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.put("users/".concat(t.id),{name:t.name,avatar:t.avatar,followers:t.followers+1,tweets:t.tweets});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return S.apply(this,arguments)}function S(){return(S=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.Z.put("users/".concat(t.id),{name:t.name,avatar:t.avatar,followers:t.followers-1,tweets:t.tweets});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}b.Z.defaults.baseURL="https://644a093e79279846dcdd4206.mockapi.io/";var I=function(e){var t=e.selectedValue,n=(0,a.useState)([]),c=(0,r.Z)(n,2),i=c[0],f=c[1],d=(0,a.useState)(3),p=(0,r.Z)(d,2),w=p[0],m=p[1],v=(0,a.useState)(JSON.parse(localStorage.getItem("followedUsersIds"))||[]),b=(0,r.Z)(v,2),_=b[0],j=b[1],S=(0,a.useState)([]),I=(0,r.Z)(S,2),N=I[0],k=I[1];(0,a.useEffect)((function(){function e(){return(e=(0,l.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z();case 3:t=e.sent,f(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,a.useEffect)((function(){if("default"===t)k(i);else if("following"===t){var e=i.filter((function(e){return _.includes(e.id)}));k(e)}else if("follow"===t){var n=i.filter((function(e){return!_.includes(e.id)}));k(n)}}),[t,i,_]);var U=N.slice(0,w);function Q(e){var t=[].concat((0,o.Z)(_),[e.id]);function n(){return n=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:L((n=e.sent).id,{followers:n.followers}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.apply(this,arguments)}j(t),localStorage.setItem("followedUsersIds",JSON.stringify(t)),function(e){n.apply(this,arguments)}(e)}function F(e){var t=_.filter((function(t){return t!==e.id}));function n(){return n=(0,l.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t);case 3:L((n=e.sent).id,{followers:n.followers}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),n.apply(this,arguments)}j(t),localStorage.setItem("followedUsersIds",JSON.stringify(t)),function(e){n.apply(this,arguments)}(e)}function L(e,t){f((function(n){return n.map((function(n){return n.id===e?(0,s.Z)((0,s.Z)({},n),t):n}))}))}return(0,h.jsxs)(h.Fragment,{children:[N.length?(0,h.jsx)("ul",{className:x,children:U.map((function(e){return(0,h.jsx)(A,{user:e,follow:Q,unfollow:F,followedUsers:_},e.id)}))}):(0,h.jsx)(h.Fragment,{}),U.length<(null===N||void 0===N?void 0:N.length)&&(0,h.jsx)("button",{type:"button",className:g,onClick:function(){m(w+3)},children:"Load More"})]})},N=n(2531),k="DropDown_dropdown_select__IpC5I",U=[{value:"default",label:"show all"},{value:"follow",label:"follow"},{value:"following",label:"following"}],Q={value:"default",label:"show all"},F=function(e){var t=e.onChange,n=(0,a.useState)(Q),o=(0,r.Z)(n,2),l=o[0],c=o[1];return(0,h.jsx)(N.ZP,{className:k,value:l,options:U,onChange:function(e){c(e),t(e.value)},theme:function(e){return(0,s.Z)((0,s.Z)({},e),{},{borderRadius:0,colors:(0,s.Z)((0,s.Z)({},e.colors),{},{primary1:"rgb(138, 43, 226)",primary2:"pink"})})},styles:{control:function(e,t){return(0,s.Z)((0,s.Z)({},e),{},{borderColor:t.isFocused?"#ae7be3":"#370d99",background:t.isFocused?"#F6F1FC":"#ae7be3",borderRadius:t.isFocused?"12px":"22px"})}}})},L=n(2187),R=n(8185),E="ArrowUp_toUp__YNLYr",B=function(){return(0,h.jsx)(L.Z,{showUnder:160,children:(0,h.jsx)(R.FKi,{className:E})})},Y="Tweets_container__HS2nS";function W(){var e=(0,a.useState)("default"),t=(0,r.Z)(e,2),n=t[0],s=t[1];return(0,h.jsxs)("div",{className:Y,children:[(0,h.jsx)(F,{onChange:function(e){s(e)}}),(0,h.jsx)(I,{selectedValue:n}),(0,h.jsx)(B,{})]})}}}]);
//# sourceMappingURL=60.2fcd5921.chunk.js.map